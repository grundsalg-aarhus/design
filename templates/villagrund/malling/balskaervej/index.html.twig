{% extends "extends/base.html.twig" %}
{% import "extends/box.html.twig" as box %}
{% import "macros/breadcrumb.html.twig" as breadcrumb %}
{% import "macros/checkbox.html.twig" as checkbox %}

{% block title %}Balskærvej i Malling{% endblock %}

{% block head %}
  {{ parent() }}
  <link rel="stylesheet" href="//unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
{% endblock %}

{% block content %}

  <header class="header-subpage">
    {# TODO: Make this into a macro  #}
    <div class="breadcrumb">
      {{ breadcrumb.breadcrumb('villagrund', 'Villagrund') }}
      {{ breadcrumb.breadcrumb('villagrund/malling', 'Malling') }}
    </div>
    {# TODO: End  #}
    <h1 class="header-subpage--title">
      Balskærvej
    </h1>
  </header>

  <div class="map">
      <div id="mapid" class="map--view"></div>
      <div class="map--filters">
        <div class="map--filters-checkboxes">
          {{ checkbox.filterCheckbox('Ledige', 'is-available') }}
          {{ checkbox.filterCheckbox('Udsolgt', 'is-sold') }}
          {{ checkbox.filterCheckbox('Fremtidige', 'is-future') }}
          {{ checkbox.filterCheckbox('Skov', 'is-forrest') }}
          {{ checkbox.filterCheckbox('Fritidsaktiviter', 'is-activities') }}
          {{ checkbox.filterCheckbox('Børnehaver', 'is-daycare') }}
          {{ checkbox.filterCheckbox('Skoler', 'is-school') }}
          
        </div>
      </div>
  </div>

  <div class="content-box">
    <div class="content-box--title">
      <h2 class="content-box--title-text">Udbud</h2>
    </div>
    <div class="content-box--inner">
      {% include 'extends/boxes/villagrund/malling/krekaertoften.html.twig' %}
      {% include 'extends/boxes/villagrund/malling/krekaervangen.html.twig' %}
    </div>
  </div>

  <script>
    var map;
    var ajaxRequest;
    var plotlist;
    var plotlayers=[];

    // set up the map
    map = new L.Map('mapid');

    // create the tile layer with correct attribution
    var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
    var osmAttrib='Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';
    var osm = new L.TileLayer(osmUrl, {minZoom: 8, maxZoom: 18, attribution: osmAttrib});

    var marker = L.marker([56.037144, 10.194626]).addTo(map);
    var marker = L.marker([56.057144, 10.124626]).addTo(map);

    map.setView(new L.LatLng(56.035660, 10.187073),14);
    map.addLayer(osm);
  </script>

{% endblock %}
